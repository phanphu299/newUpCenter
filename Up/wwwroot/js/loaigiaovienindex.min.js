var vue=new Vue({el:"#LoaiGiaoVienIndex",data:{title:"Quản Lý Loại Nhân Viên",messageText:"",color:"",timeout:3e3,snackbar:!1,deleteDialog:!1,dialog:!1,alert:!1,search:"",newItem:{name:"",order:0},itemToDelete:{},headers:[{text:"Action",align:"left",sortable:!1,value:""},{text:"Tên Loại Nhân Viên",value:"name",align:"left",sortable:!1},{text:"Thứ Tự",value:"order",align:"left",sortable:!1},{text:"Ngày Tạo",value:"createdDate",align:"left",sortable:!1},{text:"Người Tạo",value:"createdBy",align:"left",sortable:!1},{text:"Ngày Sửa",value:"updatedDate",align:"left",sortable:!1},{text:"Người Sửa",value:"updatedBy",align:"left",sortable:!1}],khoaHocItems:[]},async beforeCreate(){let e=this;await axios.get("/category/GetLoaiGiaoVienAsync").then(function(a){e.khoaHocItems=a.data}).catch(function(e){console.log(e.response.data.Message)})},methods:{async onUpdate(e){let a=this;isNaN(this.newItem.order)?(this.snackbar=!0,this.messageText="Thứ tự phải là số!!!",this.color="error"):await axios({method:"put",url:"/category/UpdateLoaiGiaoVienAsync",data:{Name:e.name,LoaiGiaoVienId:e.loaiGiaoVienId,Order:e.order}}).then(function(e){console.log(e),"OK"===e.data.status?(a.snackbar=!0,a.messageText="Cập nhật thành công !!!",a.color="success"):(a.snackbar=!0,a.messageText=e.data.message,a.color="error")}).catch(function(e){console.log(e.response.data.Message),a.snackbar=!0,a.messageText="Cập nhật lỗi: "+e.response.data.Message,a.color="error"})},async onSave(e){if(""===this.newItem.name||0===this.newItem.order)this.alert=!0;else if(isNaN(this.newItem.order))this.snackbar=!0,this.messageText="Thứ tự phải là số!!!",this.color="error";else{this.dialog=!1;let e=this;await axios({method:"post",url:"/category/CreateLoaiGiaoVienAsync",data:{Name:e.newItem.name,Order:e.newItem.order}}).then(function(a){console.log(a),"OK"===a.data.status?(e.khoaHocItems.splice(0,0,a.data.result),e.snackbar=!0,e.messageText="Thêm mới thành công !!!",e.color="success",e.newItem.name="",e.newItem.order=0):(e.snackbar=!0,e.messageText=a.data.message,e.color="error")}).catch(function(a){console.log(a.response.data.Message),e.snackbar=!0,e.messageText="Thêm mới lỗi: "+a.response.data.Message,e.color="error"})}},async onDelete(e){let a=this;await axios({method:"delete",url:"/category/DeleteLoaiGiaoVienAsync",data:{LoaiGiaoVienId:e.loaiGiaoVienId}}).then(function(t){console.log(t),"OK"===t.data.status?(a.khoaHocItems.splice(a.khoaHocItems.indexOf(e),1),a.snackbar=!0,a.messageText="Xóa thành công !!!",a.color="success",a.deleteDialog=!1):(a.snackbar=!0,a.messageText=t.data.message,a.color="error")}).catch(function(e){console.log(e.response.data.Message),a.snackbar=!0,a.messageText="Xóa lỗi: "+e.response.data.Message,a.color="error"})}}});