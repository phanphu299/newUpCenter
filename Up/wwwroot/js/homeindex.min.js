Vue.component("line-chart",{extends:VueChartJs.Line,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.chartdata,{responsive:!0,maintainAspectRatio:!1})}});var vue=new Vue({el:"#HomeIndex",data:{tab:null,loadedHocVien:!1,loadedGiaoVien:!1,loadedDoanhThuHocPhi:!1,loadedNo:!1,loadedChiPhi:!1,chartdataHocVien:{labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Giao Tiếp",data:[],borderColor:"#4caf50",pointBackgroundColor:"#4caf50",borderWidth:1,pointBorderColor:"#4caf50",backgroundColor:"transparent"},{label:"Thiếu Nhi",data:[],borderColor:"#1976d2",pointBackgroundColor:"#1976d2",borderWidth:1,pointBorderColor:"#1976d2",backgroundColor:"transparent"},{label:"Chứng Chỉ Quốc Tế",data:[],borderColor:"#f44336",pointBackgroundColor:"#f44336",borderWidth:1,pointBorderColor:"#f44336",backgroundColor:"transparent"}]},chartdataGiaoVien:{labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Full Time",data:[],borderColor:"#4caf50",pointBackgroundColor:"#4caf50",borderWidth:1,pointBorderColor:"#4caf50",backgroundColor:"transparent"},{label:"Part Time",data:[],borderColor:"#1976d2",pointBackgroundColor:"#1976d2",borderWidth:1,pointBorderColor:"#1976d2",backgroundColor:"transparent"}]},thongKeTong:{hocVien:0,giaoVien:0,doanhThu:0,chiPhi:0},chartdataDoanhThuHocPhi:{labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Doanh Thu Học Phí",data:[],borderColor:"#1976d2",pointBackgroundColor:"#1976d2",borderWidth:1,pointBorderColor:"#1976d2",backgroundColor:"transparent"},{label:"Chi Phí",data:[],borderColor:"#f44336",pointBackgroundColor:"#f44336",borderWidth:1,pointBorderColor:"#f44336",backgroundColor:"transparent"}]},chartdataNo:{labels:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],datasets:[{label:"Học Viên Nợ",data:[],borderColor:"#f44336",pointBackgroundColor:"#f44336",borderWidth:1,pointBorderColor:"#f44336",backgroundColor:"transparent"}]},hocVienNghiNhieu:{},headers:[{text:"Họ Tên",value:"tenHocVien",align:"left",sortable:!0},{text:"Lớp Học",value:"tenLop",align:"left",sortable:!0},{text:"Ngày Học Cuối",value:"ngayHocCuoi",align:"left",sortable:!0}],search:"",bienLai:{},headersBienLai:[{text:"Action",align:"left",sortable:!1,value:""},{text:"Mã Biên Lai",value:"maBienLai",align:"left",sortable:!0},{text:"Tên Học Viên",value:"fullName",align:"left",sortable:!0},{text:"Lớp Học",value:"tenLop",align:"left",sortable:!0},{text:"Học Phí",value:"hocPhi",align:"left",sortable:!0},{text:"Tháng Học Phí",value:"thangHocPhi",align:"left",sortable:!0},{text:"Ngày Tạo",value:"createdDate",align:"left",sortable:!0},{text:"Người Tạo",value:"createdBy",align:"left",sortable:!0}],searchBienLai:"",messageText:"",color:"",timeout:3e3,snackbar:!1,deleteBienLaiDialog:!1,bienLaiToDelete:{}},async mounted(){var a=this;try{await axios.get("/ThongKe/GetThongKeHocVienAsync").then(function(e){a.chartdataHocVien.datasets[0].data=e.data.giaoTiep,a.chartdataHocVien.datasets[1].data=e.data.thieuNhi,a.chartdataHocVien.datasets[2].data=e.data.quocTe,a.loadedHocVien=!0}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/ThongKe/GetThongKeGiaoVienAsync").then(function(e){a.chartdataGiaoVien.datasets[0].data=e.data.fullTime,a.chartdataGiaoVien.datasets[1].data=e.data.partTime,a.loadedGiaoVien=!0}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/ThongKe/GetTongGiaoVienVaHocVienAsync").then(function(e){a.thongKeTong.hocVien=e.data.hocVien,a.thongKeTong.giaoVien=e.data.giaoVien,a.thongKeTong.doanhThu=e.data.doanhThu,a.thongKeTong.chiPhi=e.data.chiPhi}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/ThongKe/GetThongKeDoanhThu_HocPhiAsync").then(function(e){a.chartdataDoanhThuHocPhi.datasets[0].data=e.data.doanhThu,a.chartdataDoanhThuHocPhi.datasets[1].data=e.data.chiPhi,a.loadedDoanhThuHocPhi=!0}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/ThongKe/GetNoAsync").then(function(e){a.chartdataNo.datasets[0].data=e.data,a.loadedNo=!0}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/ThongKe/GetHocVienNghiHon3NgayAsync").then(function(e){a.hocVienNghiNhieu=e.data}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/HocPhi/CheckHocPhiTronGoiAsync").then(function(a){}).catch(function(a){console.log(a.response.data.Message)}),await axios.get("/BienLai/GetBienLaiAsync").then(function(e){a.bienLai=e.data}).catch(function(a){console.log(a.response.data.Message)})}catch(a){console.error(a)}},methods:{formatNumber:a=>a.toLocaleString("it-IT",{style:"currency",currency:"VND"}),async onDeleteBienLai(a){let e=this;await axios({method:"delete",url:"/BienLai/DeleteBienLaiAsync",data:{BienLaiId:a.bienLaiId}}).then(function(o){console.log(o),"OK"===o.data.status?(e.bienLai.splice(e.bienLai.indexOf(a),1),e.snackbar=!0,e.messageText="Xóa thành công !!!",e.color="success",e.deleteBienLaiDialog=!1):(e.snackbar=!0,e.messageText=o.data.message,e.color="error")}).catch(function(a){console.log(a.response.data.Message),e.snackbar=!0,e.messageText="Xóa lỗi: "+a.response.data.Message,e.color="error"})}}});